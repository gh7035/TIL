# Handler란?

Controller라는 말보다 더 범용적 개념.
Handler는 "HTTP 요청을 실제로 처리하는 대상"을 의미하는 스프링 MVC의 추상 개념입니다.

## 그럼 시큐리티에서는?

스프링 시큐리티에서 핸들러(Handler)는

"특정 보안 이벤트가 발생했을 때 그 결과를 처리하는 객체"


> 로그인 성공, 로그인 실패, 로그아웃 성공, 인가 실패, 인증 실패
> 같은 보안 이벤트가 발생했을 때
> 
> **어떻게 반응할지 처리하는 것**이 시큐리티의 Handler이다!
> 

```java

@Slf4j // Lombok으로 log 객체 생성하는 어노테이션
@Component // 빈 등록
public class CustomLoginSuccessHandler implements AuthenticationSuccessHandler {

    @Override
    public void onAuthenticationSuccess(
            HttpServletRequest request,
            HttpServletResponse response,
            Authentication authentication) throws IOException {

        log.info("[Handler] 로그인 성공: {}", authentication.getName());

        response.sendRedirect("/home");
    }
}

```

```java
// securityfilterchain 에서 이벤트를 연결해야 사용 가능
@Configuration
@EnableWebSecurity
public class SecurityConfig {

    private final CustomLoginSuccessHandler loginSuccessHandler;

    public SecurityConfig(CustomLoginSuccessHandler loginSuccessHandler) {
        this.loginSuccessHandler = loginSuccessHandler;
    }

    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http
            .formLogin(login -> login
                .loginPage("/login")                  // 로그인 페이지
                .successHandler(loginSuccessHandler)  // 핸들러 등록
            )
            .authorizeHttpRequests(auth -> auth
                .anyRequest().authenticated()
            );
        return http.build();
    }
}
```